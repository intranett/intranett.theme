<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="plone">
<head>
    <metal:block fill-slot="top_slot"
                 tal:define="disable_column_one python:request.set('disable_plone.leftcolumn',1);
                             disable_column_two python:request.set('disable_plone.rightcolumn',1);" />
</head>
<body>

    <metal:content fill-slot="body"
                   tal:define="isAnon context/@@plone_portal_state/anonymous;
                               raiseUnauthorized python:isAnon and context.raiseUnauthorized() or None;
                               highlight python:plone_view.have_portlets('frontpage.highlight', view);
                               fp_left python:plone_view.have_portlets('frontpage.portlets.left', view);
                               fp_central python:plone_view.have_portlets('frontpage.portlets.central', view);
                               fp_right python:plone_view.have_portlets('frontpage.portlets.right', view);
                               bottom python:plone_view.have_portlets('frontpage.bottom', view);
                               columns_class view/columns_class">
        <div id="frontpage-highlight" class="row fpBlock"
             tal:condition="highlight">
            <div class="cell width-full position-0"><div class="visualPadding">
                <tal:block replace="structure provider:frontpage.highlight" />
            </div></div>
        </div>
        <div id="frontpage-columns" class="row"
             tal:condition="columns_class">
            <div class="cell fpBlock"
                 tal:attributes="class string:cell fpBlock $columns_class"
                 tal:condition="fp_left">
                <div class="visualPadding">
                    <tal:block replace="structure provider:frontpage.portlets.left" />
                </div>
            </div>
            <div class="cell fpBlock"
                 tal:attributes="class string:cell fpBlock $columns_class"            
                 tal:condition="fp_central">
                <div class="visualPadding">
                    <tal:block replace="structure provider:frontpage.portlets.central" />
                </div>
            </div>
            <div class="cell fpBlock"
                 tal:attributes="class string:cell fpBlock $columns_class"
                 tal:condition="fp_right">
                <div class="visualPadding">
                    <tal:block replace="structure provider:frontpage.portlets.right" />
                </div>
            </div>
        </div>
        <div id="frontpage-bottom" class="row fpBlock"
             tal:condition="bottom">
            <div class="cell width-full position-0"><div class="visualPadding">
                <tal:block replace="structure provider:frontpage.bottom" />
            </div></div>
        </div>
    </metal:content>

</body>
</html>

